
{
    "entities": {
        "User": {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "title": "User",
            "type": "object",
            "description": "Represents a user of the PeteAi application.",
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Unique identifier for the User entity, same as Firebase Auth UID."
                },
                "email": {
                    "type": "string",
                    "description": "User's email address.",
                    "format": "email"
                },
                "displayName": {
                    "type": "string",
                    "description": "User's display name."
                },
                "photoURL": {
                    "type": "string",
                    "description": "URL of the user's profile picture."
                },
                "creationDate": {
                    "type": "string",
                    "description": "Date and time the user account was created.",
                    "format": "date-time"
                }
            },
            "required": [
                "id",
                "email"
            ]
        },
        "BlogPost": {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "title": "BlogPost",
            "type": "object",
            "description": "Represents a blog post generated or managed within the application.",
            "properties": {
                "userId": {
                    "type": "string",
                    "description": "The UID of the user who owns this post. Foreign key to the User."
                },
                "title": {
                    "type": "string",
                    "description": "Title of the blog post."
                },
                "content": {
                    "type": "string",
                    "description": "The main content of the blog post, usually in Markdown or plain text."
                },
                "topic": {
                  "type": "string",
                  "description": "The original topic the blog post was generated from."
                },
                "creationDate": {
                    "type": "object",
                    "description": "Server-side timestamp of when the blog post was created."
                },
                "lastModified": {
                    "type": "object",
                    "description": "Server-side timestamp of when the blog post was last modified."
                }
            },
            "required": [
                "userId",
                "title",
                "content",
                "topic",
                "creationDate",
                "lastModified"
            ]
        },
        "BlogSettings": {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "title": "BlogSettings",
            "type": "object",
            "description": "Stores a user's default settings for automated blog post generation.",
            "properties": {
                "userId": {
                    "type": "string",
                    "description": "The UID of the user who owns these settings."
                },
                "topic": {
                    "type": "string",
                    "description": "The default topic for automated blog posts."
                },
                "requirements": {
                    "type": "string",
                    "description": "The default requirements (tone, keywords, etc.) for automated blog posts."
                },
                "lastModified": {
                    "type": "object",
                    "description": "Server-side timestamp of when the settings were last modified."
                }
            },
            "required": [
                "userId",
                "topic",
                "requirements"
            ]
        },
        "TweetSettings": {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "title": "TweetSettings",
            "type": "object",
            "description": "Stores a user's default settings for tweet generation.",
            "properties": {
                "userId": {
                    "type": "string",
                    "description": "The UID of the user who owns these settings."
                },
                "niche": {
                    "type": "string",
                    "description": "The default niche or category for tweets."
                },
                "topic": {
                    "type": "string",
                    "description": "The default specific topic for tweets."
                },
                "style": {
                    "type": "string",
                    "description": "The default writing style (e.g., Professional, Friendly)."
                },
                "tone": {
                    "type": "string",
                    "description": "The default tone (e.g., Informative, Inspirational)."
                },
                "viral": {
                    "type": "boolean",
                    "description": "Whether to optimize for virality by default."
                },
                "keywords": {
                    "type": "string",
                    "description": "Default keywords or hashtags to include."
                },
                "lastModified": {
                    "type": "object",
                    "description": "Server-side timestamp of when the settings were last modified."
                }
            },
            "required": [
                "userId",
                "niche"
            ]
        },
        "FacebookSettings": {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "title": "FacebookSettings",
            "type": "object",
            "description": "Stores a user's settings and authorization for Facebook Page automation.",
            "properties": {
                "userId": {
                    "type": "string",
                    "description": "The UID of the user who owns these settings."
                },
                "pageId": {
                    "type": "string",
                    "description": "The ID of the Facebook Page to post to."
                },
                "accessToken": {
                    "type": "string",
                    "description": "The long-lived Page Access Token."
                },
                "lastModified": {
                    "type": "object",
                    "description": "Server-side timestamp of when the settings were last modified."
                }
            },
            "required": [
                "userId",
                "pageId",
                "accessToken"
            ]
        },
        "Book": {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "title": "Book",
            "type": "object",
            "description": "Represents a book project, including its outline and generated content.",
            "properties": {
                "userId": {
                    "type": "string",
                    "description": "The UID of the user who owns this book project."
                },
                "title": {
                    "type": "string",
                    "description": "The working title of the book."
                },
                "titles": {
                    "type": "array",
                    "items": { "type": "string" },
                    "description": "An array of potential book titles suggested by the AI."
                },
                "idea": {
                    "type": "string",
                    "description": "The original idea or plot for the book."
                },
                "genre": {
                    "type": "string"
                },
                "mood": {
                    "type": "string"
                },
                "outline": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "title": { "type": "string" },
                            "description": { "type": "string" }
                        },
                        "required": ["title", "description"]
                    },
                    "description": "The chapter-by-chapter outline of the book."
                },
                "chapters": {
                    "type": "object",
                    "description": "An object where keys are chapter titles and values are the generated chapter content.",
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "creationDate": {
                    "type": "object"
                },
                "lastModified": {
                    "type": "object"
                }
            },
            "required": [
                "userId",
                "title",
                "titles",
                "idea",
                "genre",
                "mood",
                "outline",
                "creationDate",
                "lastModified"
            ]
        }
    },
    "auth": {
        "providers": [
            "google.com"
        ]
    },
    "firestore": {
        "collections": [
            {
                "path": "/users/{userId}/blogPosts/{blogPostId}",
                "schema": {
                    "$ref": "#/entities/BlogPost"
                },
                "description": "Stores blog posts owned by a specific user."
            },
             {
                "path": "/users/{userId}/blogSettings/default",
                "schema": {
                    "$ref": "#/entities/BlogSettings"
                },
                "description": "Stores the default blog generation settings for a specific user."
            },
            {
                "path": "/users/{userId}/tweetSettings/default",
                "schema": {
                    "$ref": "#/entities/TweetSettings"
                },
                "description": "Stores the default tweet generation settings for a specific user. Using a singleton document with the ID 'default' simplifies retrieval."
            },
            {
                "path": "/users/{userId}/facebookSettings/default",
                "schema": {
                    "$ref": "#/entities/FacebookSettings"
                },
                "description": "Stores the Facebook automation settings for a specific user. Using a singleton document with the ID 'default' simplifies retrieval."
            },
            {
                "path": "/users/{userId}/books/{bookId}",
                "schema": {
                    "$ref": "#/entities/Book"
                },
                "description": "Stores book projects owned by a specific user."
            }
        ]
    }
}
