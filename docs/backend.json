
{
    "entities": {
        "User": {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "title": "User",
            "type": "object",
            "description": "Represents a user of the PeteAi application.",
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Unique identifier for the User entity, same as Firebase Auth UID."
                },
                "email": {
                    "type": "string",
                    "description": "User's email address.",
                    "format": "email"
                },
                "displayName": {
                    "type": "string",
                    "description": "User's display name."
                },
                "photoURL": {
                    "type": "string",
                    "description": "URL of the user's profile picture."
                },
                "creationDate": {
                    "type": "string",
                    "description": "Date and time the user account was created.",
                    "format": "date-time"
                }
            },
            "required": [
                "id",
                "email"
            ]
        },
        "BlogPost": {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "title": "BlogPost",
            "type": "object",
            "description": "Represents a blog post generated or managed within the application.",
            "properties": {
                "userId": {
                    "type": "string",
                    "description": "The UID of the user who owns this post. Foreign key to the User."
                },
                "title": {
                    "type": "string",
                    "description": "Title of the blog post."
                },
                "content": {
                    "type": "string",
                    "description": "The main content of the blog post, usually in Markdown or plain text."
                },
                "topic": {
                  "type": "string",
                  "description": "The original topic the blog post was generated from."
                },
                "creationDate": {
                    "type": "object",
                    "description": "Server-side timestamp of when the blog post was created."
                },
                "lastModified": {
                    "type": "object",
                    "description": "Server-side timestamp of when the blog post was last modified."
                }
            },
            "required": [
                "userId",
                "title",
                "content",
                "topic",
                "creationDate",
                "lastModified"
            ]
        },
        "TweetSettings": {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "title": "TweetSettings",
            "type": "object",
            "description": "Stores a user's default settings for tweet generation.",
            "properties": {
                "userId": {
                    "type": "string",
                    "description": "The UID of the user who owns these settings."
                },
                "niche": {
                    "type": "string",
                    "description": "The default niche or category for tweets."
                },
                "topic": {
                    "type": "string",
                    "description": "The default specific topic for tweets."
                },
                "style": {
                    "type": "string",
                    "description": "The default writing style (e.g., Professional, Friendly)."
                },
                "tone": {
                    "type": "string",
                    "description": "The default tone (e.g., Informative, Inspirational)."
                },
                "viral": {
                    "type": "boolean",
                    "description": "Whether to optimize for virality by default."
                },
                "keywords": {
                    "type": "string",
                    "description": "Default keywords or hashtags to include."
                },
                "lastModified": {
                    "type": "object",
                    "description": "Server-side timestamp of when the settings were last modified."
                }
            },
            "required": [
                "userId",
                "niche",
                "topic"
            ]
        }
    },
    "auth": {
        "providers": [
            "google.com"
        ]
    },
    "firestore": {
        "collections": [
            {
                "path": "/users/{userId}/blogPosts/{blogPostId}",
                "schema": {
                    "$ref": "#/entities/BlogPost"
                },
                "description": "Stores blog posts owned by a specific user. The userId in the path MUST match the authenticated user's UID, ensuring path-based security. This structure also supports secure `list` operations based on `userId`."
            },
            {
                "path": "/users/{userId}/tweetSettings/default",
                "schema": {
                    "$ref": "#/entities/TweetSettings"
                },
                "description": "Stores the default tweet generation settings for a specific user. Using a singleton document with the ID 'default' simplifies retrieval."
            }
        ]
    }
}
